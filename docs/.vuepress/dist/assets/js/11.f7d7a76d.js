(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{444:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("p",[t._v("用过Mac的肯定 或多或少的 用过 brew这个命令")]),t._v(" "),t._m(0),t._v(" "),a("p",[t._v("都是属于那种Linux下包管理器")]),t._v(" "),a("p",[t._v("那他们之间有什么区别呢？")]),t._v(" "),a("p",[a("font",{attrs:{color:"#DC143C"}},[t._v("先下结论:")]),a("br"),t._v("\n源码包安装: brew"),a("br"),t._v("\n二进制包安装: yun | apt-get")],1),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("首先回顾一下什么是源码安装")]),t._v(" "),a("p",[t._v("从命令上来看源码安装一般形式如下:")]),t._v(" "),t._m(2),a("p",[t._v("wget tar应该是显而易见的，分别代表下载和解压命令")]),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("那么configure是一个怎样的命令")]),t._v(" "),t._m(4),a("p",[t._v("可以看出实际上configure是一个shell脚本，一般这个脚本都很长，目前看到最小的也有1k行")]),t._v(" "),a("p",[t._v("其主要作用就是检查编译环境，是否满足编译条件，是否有需要的预装软件")]),t._v(" "),a("p",[t._v("如果条件一切正常 则会生成MakeFile文件 供下一步make使用")]),t._v(" "),a("p",[t._v("当然有些包的configure文件可能只是一个重定向文件，真正的sh藏在bootstrap文件中")]),t._v(" "),t._m(5),t._m(6),a("p",[t._v("configure运行结束之后会")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("make - 即利用gcc对.h文件进行编译 输出可执行文件")]),t._v(" "),a("p",[t._v("然后利用make install 则是进行软链接之类的操作，把安装得到的可执行文件，放到合适的位置")]),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("实际上这一套体系叫做GNU build system")]),t._v(" "),a("p",[t._v("是为了跨平台安装 而提出的 以提高代码的可移植性")]),t._v(" "),a("p",[t._v("作为一个底层码农肯定体会过配置环境的艰辛")]),t._v(" "),a("p",[t._v("对于软件开发者 为了适配所有环境写出的编译sh那肯定更加困难")]),t._v(" "),t._m(10),t._v(" "),a("p",[t._v("为了规避写繁琐的shell脚本，有人开发了autoconf和automake这样的工具")]),t._v(" "),a("p",[t._v("autoconf通过编写configure.ac来configure脚本")]),t._v(" "),a("p",[t._v("这个时候configure.ac就好写很多")]),t._v(" "),t._m(11),a("p",[t._v("AC_开头的类似函数调用一样的代码，实际是一些被称为“宏”的调用")]),t._v(" "),a("p",[t._v("这里的宏与C中的宏概念类似，会被替换展开")]),t._v(" "),a("p",[t._v("m4是一个经典的宏工具，autoconf正是构建在m4之上，可以理解为autoconf预先实现了大量的，用于检测系统可移植性的宏，这些宏在展开后就是大量的shell脚本")]),t._v(" "),a("p",[t._v("所以编写configure.ac只要对这些宏熟练掌握就可以了，成本较手写shell省事很多")]),t._v(" "),a("p",[t._v("GNU还有很多生硬的内容，本文就点到为止，有需要的可以继续查阅相关资料")]),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("brew 是开发者为了在没有GNU build system下的情况下为了更好的跨平台安装 开发的一个包管理工具")]),t._v(" "),a("p",[t._v("和其他使用二进制包的依赖包管理工具不同的是")]),t._v(" "),a("p",[t._v("brew是基于源码包管理")]),t._v(" "),a("p",[t._v("也是先遍历一遍依赖列表")]),t._v(" "),a("p",[t._v("先安装依赖包")]),t._v(" "),a("p",[t._v("最后安装所需包")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("brew cask 则是brew的一个扩展包")]),t._v(" "),a("p",[t._v("brew主要面向命令行程序")]),t._v(" "),a("p",[t._v("brew cask主要面向图形化程序")]),t._v(" "),a("p",[t._v("把这些程序用brew cask管理")]),t._v(" "),a("p",[t._v("使之也能用命令行进行方便的安装和卸载")]),t._v(" "),t._m(15),t._v(" "),a("p",[t._v("二进制包指的是已经经过编译好的，一般只需建立软链接，或者rebuild的代码包")]),t._v(" "),a("p",[t._v("一般二进制包的包名会较源码包长 会包含运行环境等相关信息")]),t._v(" "),a("p",[t._v("根据不同规范可以分为.rpm包和.deb包")]),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("一开始是由Red Hat开发，之后被广泛采用的一种包管理策略")]),t._v(" "),a("p",[t._v("其主要思想就是把编译之后的文件及所需要的软件名称打包，安装时只需要去检查是否满足安装条件，无需编译，即可安装")]),t._v(" "),a("p",[t._v("其包名满足")]),t._v(" "),t._m(18),t._m(19),t._v(" "),a("p",[t._v("YUM是基于rpm的包管理容器, 是一种CS架构的软件, "),a("font",{attrs:{color:"#DC143C"}},[t._v("解决了包之间依赖的问题")])],1),t._v(" "),a("p",[t._v("Server端先对程序包进行分类后存储到不同repository容器中")]),t._v(" "),a("p",[t._v("再通过收集到大量的rpm的数据库文件中程序包之间的依赖关系数据, 把对应的依赖关系和所需文件存在说明文件(.xml格式)里, 放在本地的repodata目录下供Client端取用")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("再进入Server端yum库中的指定repository容器中获取所需程序包, 下载完成后在本地实现安装")]),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("在介绍agt-get 之前 先介绍下dpkg")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),a("p",[t._v("在status文件中存储软件状态和控制信息")]),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("那么apt-get 就相当于中的rpm的yum")]),t._v(" "),a("p",[t._v("做的是自动化获取安装包依赖的工作")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.zhihu.com/question/22624898",target:"_blank",rel:"noopener noreferrer"}},[t._v("brew和brew cask有什么区别？"),a("OutboundLink")],1)]),t._v(" "),t._m(32),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.firefoxbug.com/index.php/archives/2777/",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入理解yum工作原理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.firefoxbug.com/index.php/archives/2776/",target:"_blank",rel:"noopener noreferrer"}},[t._v("rpm包制作"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/d021380f6d02",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux软件安装管理之——RPM与YUM详解"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.pchou.info/linux/2016/09/16/gnu-build-system-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("概念：GNU构建系统和Autotool"),a("OutboundLink")],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在我之前的印象里 这个命令就好像"),s("br"),this._v("\nUbuntu里的apt-get"),s("br"),this._v("\nCentos里的yum")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"源码安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 源码安装")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://xxx.com/latest.tar.gz\n"),a("span",{attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf latest.tar.gz -C /usr/src\n"),a("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" /usr/src/xxxx\n./configure\n"),a("span",{attrs:{class:"token function"}},[t._v("make")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("make")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"configure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure","aria-hidden":"true"}},[this._v("#")]),this._v(" ./configure")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("#"),a("span",{attrs:{class:"token operator"}},[t._v("!")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token keyword"}},[t._v("sh")]),t._v("\nSUFFIX"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('""')]),t._v("\nDRYRUN"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"false"')]),t._v("\nVERBOSE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"false"')]),t._v("\nEXE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('""')]),t._v("\nTHERE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("`dirname $"),a("span",{attrs:{class:"token number"}},[t._v("0")]),t._v("`\n\n# pick "),a("span",{attrs:{class:"token keyword"}},[t._v("up")]),t._v(" any command line "),a("span",{attrs:{class:"token keyword"}},[t._v("args")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("to")]),t._v(" config\n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i\ndo\ncase "),a("span",{attrs:{class:"token string"}},[t._v('"$i"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("d")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("options")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),a("span",{attrs:{class:"token keyword"}},[t._v("options")]),a("span",{attrs:{class:"token string"}},[t._v('" --debug"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("t")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DRYRUN"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"true"')]),t._v(" VERBOSE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"true"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("v"),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" VERBOSE"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"true"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("h")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" DRYRUN"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"true"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("cat")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("EOF\nUsage"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token keyword"}},[t._v("options")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("d")]),t._v("     Build with debugging when possible"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("t")]),t._v("     Test "),a("span",{attrs:{class:"token keyword"}},[t._v("mode")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" do not run the Configure "),a("span",{attrs:{class:"token keyword"}},[t._v("perl")]),t._v(" script"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("v     Verbose "),a("span",{attrs:{class:"token keyword"}},[t._v("mode")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" show the exact Configure "),a("span",{attrs:{class:"token keyword"}},[t._v("call")]),t._v(" that "),a("span",{attrs:{class:"token operator"}},[t._v("is")]),t._v(" being made"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("h")]),t._v("     This "),a("span",{attrs:{class:"token keyword"}},[t._v("help")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\nAny other text will "),a("span",{attrs:{class:"token keyword"}},[t._v("be")]),t._v(" passed "),a("span",{attrs:{class:"token keyword"}},[t._v("to")]),t._v(" the Configure "),a("span",{attrs:{class:"token keyword"}},[t._v("perl")]),t._v(" script"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\nSee INSTALL "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" instructions"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\nEOF\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  i"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("`echo "),a("span",{attrs:{class:"token string"}},[t._v('"$i"')]),t._v(" | sed "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token keyword"}},[t._v("e")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("\"s|'|'\\\\\\\\\\\\''|g\"")]),t._v("`\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("options")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("\"$options '$i'\"")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nesac\n"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("#"),a("span",{attrs:{class:"token operator"}},[t._v("!")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token keyword"}},[t._v("sh")]),t._v("\ncmake_source_dir"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("`"),a("span",{attrs:{class:"token keyword"}},[t._v("cd")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"\\`dirname \\"$0\\"\\`"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token keyword"}},[t._v("pwd")]),t._v("`\nexec "),a("span",{attrs:{class:"token string"}},[t._v('"${cmake_source_dir}/bootstrap"')]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"$@"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ ./configure\nchecking whether to "),a("span",{attrs:{class:"token function"}},[t._v("enable")]),t._v(" maintainer-specific portions of Makefiles"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". no\nchecking whether "),a("span",{attrs:{class:"token function"}},[t._v("make")]),t._v(" supports nested variables"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{attrs:{class:"token function"}},[t._v("yes")]),t._v("\nchecking whether to "),a("span",{attrs:{class:"token function"}},[t._v("enable")]),t._v(" debug build options"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". no\nchecking whether to "),a("span",{attrs:{class:"token function"}},[t._v("enable")]),t._v(" compiler optimizer"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("assumed"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("yes")]),t._v("\nchecking "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" path separator"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v("\nchecking "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" sed"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". /bin/sed\nchecking "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" gcc"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". gcc\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("由MakeFile.in 生成 MakeFile文件")]),t._v(" "),a("li",[t._v("由config.h.in 生成 config.h文件")]),t._v(" "),a("li",[t._v("config.log 日志文件")]),t._v(" "),a("li",[t._v("config.cache 提高下一次configure的速度 需要-C才生成")]),t._v(" "),a("li",[t._v("config.status 实际调用编译工具构建软件的shell脚本")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2018/png/104214/1538880946361-2fb09cb3-c74d-4dad-ad69-72e197c63272.png",alt:"图片.png | center | 556x200"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"autoconf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#autoconf","aria-hidden":"true"}},[this._v("#")]),this._v(" autoconf")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Unix系统的分支复杂度很高，不同的商用版或开源版或多或少都有差异。这些差异主要体现在：系统组件、系统调用。我们主要将Unix分为如下几个大类：IBM-AIX HP-UX Apple-DARWIN Solaris Linux FreeBSD")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("AC_PREREQ")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("2.63")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("AC_INIT")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token keyword"}},[t._v("st")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("zhoupingtkbjb@"),a("span",{attrs:{class:"token number"}},[t._v("163")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token builtin"}},[t._v("com")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("AC_CONFIG_SRCDIR")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("src"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("main"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("c")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("AC_CONFIG_HEADERS")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("src"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("config"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("h")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("AM_INIT_AUTOMAKE")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("foreign"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n# Checks "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" programs"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\nAC_PROG_CC\nAC_PROG_LIBTOOL\n\n# Checks "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" libraries"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\n# Checks "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" header "),a("span",{attrs:{class:"token keyword"}},[t._v("files")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\n# Checks "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" typedefs"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" structures"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" and "),a("span",{attrs:{class:"token keyword"}},[t._v("compiler")]),t._v(" characteristics"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\n# Checks "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" library functions"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("AC_CONFIG_FILES")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Makefile\n                 src"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("Makefile\n                 src"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("a"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("Makefile\n                 src"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token keyword"}},[t._v("b")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("Makefile"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nAC_OUTPUT\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"brew"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brew","aria-hidden":"true"}},[this._v("#")]),this._v(" brew")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("安装时执行"),s("code",[this._v("./configure && make && make install")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"brew-cask"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brew-cask","aria-hidden":"true"}},[this._v("#")]),this._v(" brew cask")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"二进制包安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二进制包安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 二进制包安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"rpm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rpm","aria-hidden":"true"}},[this._v("#")]),this._v(" RPM")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("RPM = RedHat Package Manager")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("%")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("NAME"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v("%")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("VERSION"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v("%")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RELEASE"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token operator"}},[t._v("%")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ARCH"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("rpm\n\nNAME"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rpm包名字\nVERSION"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rpm包版本号"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("主版本号"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("次版本号"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("测试号"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nRELEASE"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rpm包编译发布次数"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("第几次编译发布"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nARCH"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cpu架构"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("比如i386和x86_64，i386兼容x86_64，noarch的代表一些列脚本"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n比如nginx"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("1.4")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("24")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("x86"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("rpm，nginx"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("1.4")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("24")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("x86_64"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("rpm\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"yum"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yum","aria-hidden":"true"}},[this._v("#")]),this._v(" YUM")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("而Cilent端通过yum命令安装软件时发现缺少某些依赖性程序包, Client会根据本地的配置文件("),s("code",[this._v("etc/yum.repos.d/*.repo")]),this._v(")找到指定的Server端,")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("从Server端repo目录下获取说明文件xxx.xml后存储在本地"),s("code",[this._v("/var/cache/yum")]),this._v("中方便以后读取")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过"),s("code",[this._v("xxx.xml")]),this._v("文件查找到需要安装的依赖性程序包在Server端的存放位置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"apt-get"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apt-get","aria-hidden":"true"}},[this._v("#")]),this._v(" apt-get")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("dpkg = Debian package manager")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("其余rpm原理几乎相同，使用文本文件作为数据库来维护系统中软件信息，包括文件清单, 依赖关系, 软件状态等,通常在"),s("code",[this._v("/var/lib/dpkg")]),this._v("目录下")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在info目录下备份控制文件， 并在"),s("code",[this._v("info/.list")]),this._v("文件中记录安装文件清单, 在"),s("code",[this._v("info/.mdasums")]),this._v("中保存文件的MD5码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("apt-get update")]),this._v(" 过程")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 执行apt"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("get "),a("span",{attrs:{class:"token keyword"}},[t._v("update")]),t._v("\n"),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 程序分析"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("apt"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("sources"),a("span",{attrs:{class:"token operator"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("list")]),t._v("\n"),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 自动连网寻找"),a("span",{attrs:{class:"token keyword"}},[t._v("list")]),t._v("中对应的Packages"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("Sources"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("Release列表文件，如果有更新则下载，存入"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("var"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("apt"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("lists"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("目录\n"),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 然后 apt"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("get install 相应的包 ，下载并安装\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("apt-get install")]),this._v(" 过程")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 扫描本地存放的软件包更新列表，找到最新版本包\n"),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 进行包依赖检查，找到所有需要的依赖包\n"),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v(" 从源中下载相应的包并解压，建立软链接\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("a",{attrs:{href:"jianshu.com/p/b2eed75b9855"}},[this._v("apt-get原理解析")])])}],!1,null,null,null);e.options.__file="brew.md";s.default=e.exports}}]);