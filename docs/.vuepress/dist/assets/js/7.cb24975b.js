(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{166:function(t,e,s){"use strict";s.r(e);var n=s(0),_=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("几个月前 react 升级到16.3之后")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("为了 一劳永逸")]),t._v(" "),s("p",[t._v("根据 "),s("a",{attrs:{href:"https://reactjs.org/docs/react-component.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("官方文旦")]),s("OutboundLink")],1)]),t._v(" "),t._m(3),s("p",[t._v("一开始并没有 发现任何 异常")]),t._v(" "),s("p",[t._v("虽然在使用的过程中 出现了 些许bug")]),t._v(" "),s("p",[t._v("但潜意识也以为是自己写错了 在 另外一些地方 慌乱的修了 （嗯 表面 修了）")]),t._v(" "),s("p",[t._v("直到 今天 才发现")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("我一度 怀疑 是不是 我对 生命周期 有什么 误解")]),t._v(" "),s("p",[t._v("did update 就是 已经 完成 update 的 时候 会 调用 这个 函数")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("这 就 尴尬了 到底 哪个才是 next")]),t._v(" "),s("p",[t._v("蒙圈了")]),t._v(" "),s("p",[t._v("应该是 react 16.4引入的 bug")]),t._v(" "),t._m(7)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"bug-of-react-16-4-componentdidupdate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bug-of-react-16-4-componentdidupdate","aria-hidden":"true"}},[this._v("#")]),this._v(" bug of react 16.4 componentDidUpdate")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("官方准备弃用 "),e("code",[this._v("componentWillReceiveProps")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("跟它加上了"),e("code",[this._v("UNSAFE_")]),this._v(" 标签")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[t._v("往 "),s("span",{attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("和\n"),s("span",{attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevProps"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" snapshot"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 迁移\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("componentDidUpdate")]),this._v(" 传过来的 "),e("code",[this._v("prevProps")]),this._v(" 比 "),e("code",[this._v("this.props")]),this._v(" 还晚")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("不管怎么样 "),e("code",[this._v("prevProps")]),this._v(" 传过来的 参数 肯定 要比 "),e("code",[this._v("this.props")]),this._v("快")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("但 实际上 "),s("code",[t._v("prevProps")]),t._v(" 比 "),s("code",[t._v("this.props")]),t._v("慢"),s("br"),t._v("\n而 "),s("code",[t._v("prevState")]),t._v(" 比 "),s("code",[t._v("this.state")]),t._v("快")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("updated 8/8/2018")])])}],!1,null,null,null);_.options.__file="componentdidupdate.md";e.default=_.exports}}]);