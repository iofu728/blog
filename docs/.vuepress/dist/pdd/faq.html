<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FAQ | 乌云压顶是吧</title>
    <meta name="description" content="㊗️某人生日快乐🎉">
    <link rel="icon" href="../favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.6acf8380.css" as="style"><link rel="preload" href="/assets/js/app.7c4dfd50.js" as="script"><link rel="preload" href="/assets/js/8.62c9f7e5.js" as="script"><link rel="prefetch" href="/assets/js/10.7ad27450.js"><link rel="prefetch" href="/assets/js/2.285762ea.js"><link rel="prefetch" href="/assets/js/3.ad3b6e7c.js"><link rel="prefetch" href="/assets/js/4.0f9f1586.js"><link rel="prefetch" href="/assets/js/5.5e526c6a.js"><link rel="prefetch" href="/assets/js/6.d8844d1c.js"><link rel="prefetch" href="/assets/js/7.0005dfa0.js"><link rel="prefetch" href="/assets/js/9.e81b42cd.js"><link rel="prefetch" href="/assets/js/11.c37c162c.js"><link rel="prefetch" href="/assets/js/12.db5c7c0b.js"><link rel="prefetch" href="/assets/js/13.8b613be9.js"><link rel="prefetch" href="/assets/js/14.8fa9218f.js"><link rel="prefetch" href="/assets/js/15.a162fd7c.js"><link rel="prefetch" href="/assets/js/16.00f5c57b.js"><link rel="prefetch" href="/assets/js/17.90d4a479.js"><link rel="prefetch" href="/assets/js/18.af519db8.js"><link rel="prefetch" href="/assets/js/19.355ef318.js"><link rel="prefetch" href="/assets/js/20.171a4f1a.js"><link rel="prefetch" href="/assets/js/21.77afc3d0.js"><link rel="prefetch" href="/assets/js/22.e3dbb09b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6acf8380.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">乌云压顶是吧</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/react/componentdidupdate.html" class="nav-link">React</a></div><div class="nav-item"><a href="/summary/cs.html" class="nav-link">Summary</a></div><div class="nav-item"><a href="/pdd/" class="nav-link router-link-active">Pdd</a></div> <a href="https://github.com/iofu728/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/react/componentdidupdate.html" class="nav-link">React</a></div><div class="nav-item"><a href="/summary/cs.html" class="nav-link">Summary</a></div><div class="nav-item"><a href="/pdd/" class="nav-link router-link-active">Pdd</a></div> <a href="https://github.com/iofu728/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>指南</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pdd/" class="sidebar-link">介绍</a></li><li><a href="/pdd/structure.html" class="sidebar-link">目录约定</a></li><li><a href="/pdd/router.html" class="sidebar-link">路由</a></li><li><a href="/pdd/dva.html" class="sidebar-link">Dva</a></li><li><a href="/pdd/promise.html" class="sidebar-link">函数式编程</a></li><li><a href="/pdd/fetch.html" class="sidebar-link">Fetch</a></li><li><a href="/pdd/deploy.html" class="sidebar-link">部署</a></li><li><a href="/pdd/style.html" class="sidebar-link">Style</a></li><li><a href="/pdd/mock.html" class="sidebar-link">Mock 数据</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>参考</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pdd/faq.html" class="active sidebar-link">FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pdd/faq.html#常见问题" class="sidebar-link">常见问题</a></li><li class="sidebar-sub-header"><a href="/pdd/faq.html#后期想法" class="sidebar-link">后期想法</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="faq"><a href="#faq" aria-hidden="true" class="header-anchor">#</a> FAQ</h1> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>持续补充中。</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#常见问题">常见问题</a><ul><li><a href="#eslint-报错">Eslint 报错</a></li><li><a href="#warning-react-does-not-recognize-the-inlineindent-prop-on-a-dom-element-等-warning">Warning: React does not recognize the inlineIndent prop on a DOM element. 等 Warning</a></li><li><a href="#yarn-run-start-不成功">yarn run start 不成功</a></li><li><a href="#启动成功但页面无内容，时间显示-1970-01-01-08：00：00">启动成功但页面无内容，时间显示&quot;1970-01-01 08：00：00&quot;</a></li><li><a href="#uncaught-at-callee3-at-callee3">uncaught at callee3 at callee3</a></li><li><a href="#warning-form-item-cannot-generate-validatestatus-and-help-automatically-while-there-are-more-than-one-getfielddecorator-in-it">Warning: Form.Item cannot generate validateStatus and help automatically, while there are more than one getFieldDecorator in it.</a></li><li><a href="#一些线上bug在本地可能不能复现">一些线上bug在本地可能不能复现</a></li></ul></li><li><a href="#后期想法">后期想法</a><ul><li><a href="#umi-2-0-升级">umi 2.0 升级</a></li><li><a href="#antd-pagination组件-pagesize-bug跟进">AntD Pagination组件 PageSize Bug跟进</a></li><li><a href="#未合并代码">未合并代码</a></li><li><a href="#单测">单测</a></li><li><a href="#改进点">改进点</a></li><li><a href="#代码优化">代码优化</a></li></ul></li></ul></div><p></p> <h2 id="常见问题"><a href="#常见问题" aria-hidden="true" class="header-anchor">#</a> 常见问题</h2> <h3 id="eslint-报错"><a href="#eslint-报错" aria-hidden="true" class="header-anchor">#</a> Eslint 报错</h3> <h4 id="诸如-src-models-task-js-line-5-expected-multiple-syntax-before-single-syntax-sort-imports"><a href="#诸如-src-models-task-js-line-5-expected-multiple-syntax-before-single-syntax-sort-imports" aria-hidden="true" class="header-anchor">#</a> 诸如./src/models/task.js Line 5:  Expected 'multiple' syntax before 'single' syntax  sort-imports</h4> <p>Dev 时，如果有关于语法相关的报错，都会在主屏幕上显示（无需打开 开发者模式）</p> <p>而基本上都是属于Eslint报错</p> <p>首先尝试使用</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yarn run eslint-fix
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果未能解决，需要找到报错处，进行手动更改；</p> <p>常见的Eslint报错有：</p> <ul><li>sort-imports import未按字母顺序排序</li> <li>no-magic-numbers 请使用变量代替常量数据</li></ul> <p>目前是有三个warning 没法解决，两个是骑兵引入，一个是Emojis引入</p> <h3 id="warning-react-does-not-recognize-the-inlineindent-prop-on-a-dom-element-等-warning"><a href="#warning-react-does-not-recognize-the-inlineindent-prop-on-a-dom-element-等-warning" aria-hidden="true" class="header-anchor">#</a> Warning: React does not recognize the <code>inlineIndent</code> prop on a DOM element. 等 Warning</h3> <p>这个warning，主要是为了样式统一，把左上角的图标塞进Menu里面，导致的warning。</p> <p>尝试拿出来过，没有好的解决方案</p> <h3 id="yarn-run-start-不成功"><a href="#yarn-run-start-不成功" aria-hidden="true" class="header-anchor">#</a> yarn run start 不成功</h3> <p>检查package.json 中ip对不对，端口号有没有占用，系统是否是unix</p> <p>如果是unix，请把</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">&quot;set PORT=8080&amp;&amp;set HOST=172.16.2.162&amp;&amp;umi dev&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>改为</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">&quot;PORT=8080 HOST=172.16.2.162 umi dev&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>主要原因是不同系统，命令行语言不同，导致的。</p> <h3 id="启动成功但页面无内容，时间显示-1970-01-01-08：00：00"><a href="#启动成功但页面无内容，时间显示-1970-01-01-08：00：00" aria-hidden="true" class="header-anchor">#</a> 启动成功但页面无内容，时间显示&quot;1970-01-01 08：00：00&quot;</h3> <p>检查lion上8，31有没有配置，ipconfig.js中ip配置是否正确</p> <h3 id="uncaught-at-callee3-at-callee3"><a href="#uncaught-at-callee3-at-callee3" aria-hidden="true" class="header-anchor">#</a> uncaught at _callee3 at _callee3</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>     at _callee6 
     at takeEvery(task/flowList, _callee) 
     at _callee 
     at _callee 
     Error: TypeError: Cannot convert undefined or null to object
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>基本上就是model里面那个参数值undefined</p> <h3 id="warning-form-item-cannot-generate-validatestatus-and-help-automatically-while-there-are-more-than-one-getfielddecorator-in-it"><a href="#warning-form-item-cannot-generate-validatestatus-and-help-automatically-while-there-are-more-than-one-getfielddecorator-in-it" aria-hidden="true" class="header-anchor">#</a> Warning: <code>Form.Item</code> cannot generate <code>validateStatus</code> and <code>help</code> automatically, while there are more than one <code>getFieldDecorator</code> in it.</h3> <p>出现原因：Form 组件中一个<FormItem></FormItem>绑定了多个getFieldDecorator</p> <p>处理建议：问题不大，不需要处理</p> <h3 id="一些线上bug在本地可能不能复现"><a href="#一些线上bug在本地可能不能复现" aria-hidden="true" class="header-anchor">#</a> 一些线上bug在本地可能不能复现</h3> <p>可能是因为缓存原因，因为chrome版本问题，产生了一些缓存冲突；而本地因为不启用缓存，则不会出现这样的问题。</p> <p>解决方案：清除缓存</p> <h2 id="后期想法"><a href="#后期想法" aria-hidden="true" class="header-anchor">#</a> 后期想法</h2> <h3 id="umi-2-0-升级"><a href="#umi-2-0-升级" aria-hidden="true" class="header-anchor">#</a> umi 2.0 升级</h3> <p>首先 umi 2.0 是一个大版本升级，修改的东西比较多，需要配置的项也比较多</p> <p>目前(now=18.8.23) 只发布了2.0.0-beta.17 GitHub还有用户提出AntD样式显示异常的问题</p> <p>目前不建议升级，但长远来讲，需要升级，建议升级前期，拿Lucifer练手（Lucifer和TAISHAN采用一致框架，之前的一些前期验证都是在Lucifer上实现的）</p> <h3 id="antd-pagination组件-pagesize-bug跟进"><a href="#antd-pagination组件-pagesize-bug跟进" aria-hidden="true" class="header-anchor">#</a> AntD Pagination组件 PageSize Bug跟进</h3> <p>项目中的后端分页，在一些场景中，需要控制回跳到第一页，但因为AntD的bug，page显示异常。<br>
已反馈Bug，待修复之后，检查下这部分逻辑</p> <p>参见<a href="https://github.com/ant-design/ant-design/issues/11286" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，目前处于<code>inactive</code>相信不久之后会修复</p> <h3 id="未合并代码"><a href="#未合并代码" aria-hidden="true" class="header-anchor">#</a> 未合并代码</h3> <p>Pattern部分代码写完了 见TAISHAN-772_pattern</p> <p>但考虑到部分接口 可能 更改 暂时不合</p> <h3 id="单测"><a href="#单测" aria-hidden="true" class="header-anchor">#</a> 单测</h3> <p>单测还是很有必要的 有空的时候 可以补起来</p> <h3 id="改进点"><a href="#改进点" aria-hidden="true" class="header-anchor">#</a> 改进点</h3> <ol><li>Task Create 可以加一个新建项目确认弹窗</li> <li>轮询接口最好改成TakeLeading，但是目前dva不支持，考虑使用take+call实现</li> <li>数据源添加数据时，如果连续两次操作，会造成有一个message.loading会一直在那里</li> <li>目前还有两个页面数据量较大的页面是前端分页，dataSource/integral</li> <li>数据源页loading机制</li></ol> <h3 id="代码优化"><a href="#代码优化" aria-hidden="true" class="header-anchor">#</a> 代码优化</h3> <p>有些代码还有很大优化空间，实际上第三次大版本升级的时候很多地方都没有细改</p> <p>尤其是Effect等数据处理方面</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pdd/mock.html" class="prev">
          Mock 数据
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/8.62c9f7e5.js" defer></script><script src="/assets/js/app.7c4dfd50.js" defer></script>
  </body>
</html>
