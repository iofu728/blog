<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>路由 | 乌云压顶是吧</title>
    <meta name="description" content="㊗️某人生日快乐🎉">
    
    
    <link rel="preload" href="/assets/css/0.styles.6acf8380.css" as="style"><link rel="preload" href="/assets/js/app.61265c67.js" as="script"><link rel="preload" href="/assets/js/12.db5c7c0b.js" as="script"><link rel="prefetch" href="/assets/js/10.7ad27450.js"><link rel="prefetch" href="/assets/js/2.285762ea.js"><link rel="prefetch" href="/assets/js/3.ad3b6e7c.js"><link rel="prefetch" href="/assets/js/4.0f9f1586.js"><link rel="prefetch" href="/assets/js/5.5e526c6a.js"><link rel="prefetch" href="/assets/js/6.d8844d1c.js"><link rel="prefetch" href="/assets/js/7.0005dfa0.js"><link rel="prefetch" href="/assets/js/8.62c9f7e5.js"><link rel="prefetch" href="/assets/js/9.e81b42cd.js"><link rel="prefetch" href="/assets/js/11.c37c162c.js"><link rel="prefetch" href="/assets/js/13.8b613be9.js"><link rel="prefetch" href="/assets/js/14.8fa9218f.js"><link rel="prefetch" href="/assets/js/15.a162fd7c.js"><link rel="prefetch" href="/assets/js/16.00f5c57b.js"><link rel="prefetch" href="/assets/js/17.90d4a479.js"><link rel="prefetch" href="/assets/js/18.af519db8.js"><link rel="prefetch" href="/assets/js/19.355ef318.js"><link rel="prefetch" href="/assets/js/20.171a4f1a.js"><link rel="prefetch" href="/assets/js/21.77afc3d0.js"><link rel="prefetch" href="/assets/js/22.e3dbb09b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6acf8380.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">乌云压顶是吧</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/react/componentdidupdate.html" class="nav-link">React</a></div><div class="nav-item"><a href="/summary/cs.html" class="nav-link">Summary</a></div><div class="nav-item"><a href="/pdd/" class="nav-link router-link-active">Pdd</a></div> <a href="https://github.com/iofu728/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/react/componentdidupdate.html" class="nav-link">React</a></div><div class="nav-item"><a href="/summary/cs.html" class="nav-link">Summary</a></div><div class="nav-item"><a href="/pdd/" class="nav-link router-link-active">Pdd</a></div> <a href="https://github.com/iofu728/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>指南</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pdd/" class="sidebar-link">介绍</a></li><li><a href="/pdd/structure.html" class="sidebar-link">目录约定</a></li><li><a href="/pdd/router.html" class="active sidebar-link">路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pdd/router.html#配置规则" class="sidebar-link">配置规则</a></li><li class="sidebar-sub-header"><a href="/pdd/router.html#dvacontainer-js" class="sidebar-link">DvaContainer.js</a></li><li class="sidebar-sub-header"><a href="/pdd/router.html#router-js" class="sidebar-link">router.js</a></li><li class="sidebar-sub-header"><a href="/pdd/router.html#umi-js" class="sidebar-link">umi.js</a></li><li class="sidebar-sub-header"><a href="/pdd/router.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/pdd/dva.html" class="sidebar-link">Dva</a></li><li><a href="/pdd/promise.html" class="sidebar-link">函数式编程</a></li><li><a href="/pdd/fetch.html" class="sidebar-link">Fetch</a></li><li><a href="/pdd/deploy.html" class="sidebar-link">部署</a></li><li><a href="/pdd/style.html" class="sidebar-link">Style</a></li><li><a href="/pdd/mock.html" class="sidebar-link">Mock 数据</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>参考</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pdd/faq.html" class="sidebar-link">FAQ</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="路由"><a href="#路由" aria-hidden="true" class="header-anchor">#</a> 路由</h1> <p>umi 根据 <code>pages</code> 目录自动生成路由配置。</p> <p>而 umi 是 利用 react-router 4 实现路由</p> <p>在 <code>dev</code> 模式 下 每次<code>build</code> 都会在<code>pages/.umi</code> 下</p> <p>自动生成 路由文件 <code>DvaContainer.js</code> <code>router.js</code> <code>umi.js</code></p> <h2 id="配置规则"><a href="#配置规则" aria-hidden="true" class="header-anchor">#</a> 配置规则</h2> <p><code>pages/</code> 目录下 所有 <code>.js</code> 文件 按照 <code>目录层级</code> 自动 生成 路由</p> <p>例如</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>+ pages/
  + task/
    - $taskId.js  # 前置$ 表述 变量; 后置 $ 表示 可选
    - create.js
    - index.js   # index.js 与 page.js 解析为 根路由 文件
  + record/
    - page.js    # page.js 同级目录下 其他.js 自动 不被路由
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>则，umi 会自动生成路由配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/task'</span><span class="token punctuation">:</span> exact<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> <span class="token string">'./pages/task/index.js'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/task/:taskId'</span><span class="token punctuation">:</span> exact<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> <span class="token string">'./pages/task/$taskId.js'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/task/create'</span><span class="token punctuation">:</span> exact<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> <span class="token string">'./pages/task/create.js'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/record'</span><span class="token punctuation">:</span> exact<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> <span class="token string">'./pages/create/page.js'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>对于 <code>pages/</code> 目录下 部分 不想 被 路由的 <code>.js</code> 文件 如<code>/components</code> <code>/models</code> <code>/services</code></p> <p>可以在 <code>.umirc.js</code> 中 配置 进行忽略</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'umi-plugin-dva'</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'umi-plugin-routes'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token regex">/models/</span><span class="token punctuation">,</span>
        <span class="token regex">/services/</span><span class="token punctuation">,</span>
        <span class="token regex">/components/</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="dvacontainer-js"><a href="#dvacontainer-js" aria-hidden="true" class="header-anchor">#</a> DvaContainer.js</h2> <p>Dva 配置文件 <code>自动生成</code></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> dva <span class="token keyword">from</span> <span class="token string">'dva'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> createLoading <span class="token keyword">from</span> <span class="token string">'dva-loading'</span><span class="token punctuation">;</span>

<span class="token comment">// 创建dva 实例</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">dva</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token punctuation">:</span> window<span class="token punctuation">.</span>g_history<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>g_app <span class="token operator">=</span> app<span class="token punctuation">;</span>

<span class="token comment">// 装载 dva 插件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册 dva modal 建立 namespace</span>
app<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../models/dataSource.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
app<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../models/group.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DvaContainer</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 配置 路由</span>
    app<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 启动 应用</span>
    <span class="token keyword">return</span> app<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> DvaContainer<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="router-js"><a href="#router-js" aria-hidden="true" class="header-anchor">#</a> router.js</h2> <p>dva 路由文件 <code>自动生成</code></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Router <span class="token keyword">as</span> DefaultRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> dynamic <span class="token keyword">from</span> <span class="token string">'umi/dynamic'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> renderRoutes <span class="token keyword">from</span> <span class="token string">'umi/_renderRoutes'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> routerRedux <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'dva/router'</span><span class="token punctuation">;</span>


<span class="token keyword">let</span> Router <span class="token operator">=</span> DefaultRouter<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> ConnectedRouter <span class="token punctuation">}</span> <span class="token operator">=</span> routerRedux<span class="token punctuation">;</span>
Router <span class="token operator">=</span> ConnectedRouter<span class="token punctuation">;</span>


<span class="token keyword">let</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../layouts/index.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span>
    <span class="token string">&quot;routes&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/taskFlow/:taskFlowId&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;exact&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../taskFlow/$taskFlowId.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/flow&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;exact&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../flow/index.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/flow/integral&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;exact&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../flow/integral.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/flow/link&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;exact&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../flow/link.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/flow/daytime&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;exact&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../flow/daytime.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;component&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'/Users/gunjianpan/Desktop/pdd/taishan/taishan-frontend/node_modules/umi-build-dev/lib/plugins/404/NotFound.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> pagesPath<span class="token punctuation">:</span> <span class="token string">'src/pages'</span><span class="token punctuation">,</span> routes<span class="token punctuation">:</span> <span class="token string">'[{&quot;path&quot;:&quot;/&quot;,&quot;component&quot;:&quot;./src/layouts/index.js&quot;,&quot;routes&quot;:[{&quot;path&quot;:&quot;/dataSource&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/dataSource/page.js&quot;},{&quot;path&quot;:&quot;/taskFlow/:taskFlowId&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/taskFlow/$taskFlowId.js&quot;},{&quot;path&quot;:&quot;/flow&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/index.js&quot;},{&quot;path&quot;:&quot;/flow/integral&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/integral.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowLinkList&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowLinkList.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowLinkModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowLinkModal.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowList&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowList.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowDaytimeModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowDaytimeModal.js&quot;},{&quot;path&quot;:&quot;/flow/components/linkNode&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/linkNodeModal.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowIntegralModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowIntegralModal.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowDaytime&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowDaytime.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowIntegral&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowIntegral.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowDataModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowDataModal.jsal.js&quot;},{&quot;path&quot;:&quot;/flow/link&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/link.js&quot;},{&quot;path&quot;:&quot;/flow/daytime&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/daytime.js&quot;},{&quot;path&quot;:&quot;/group/components/groupRole&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/group/components/groupRole.js&quot;},{&quot;path&quot;:&quot;/flow/components/flowModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/flow/components/flowModal.js&quot;},{&quot;path&quot;:&quot;/group/components/userGroupModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/group/components/userGroupModal.js&quot;},{&quot;path&quot;:&quot;/group&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/group/index.js&quot;},{&quot;path&quot;:&quot;/group/:groupId&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/group/$groupId.js&quot;},{&quot;path&quot;:&quot;/task/components/createForm&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/components/createForm.js&quot;},{&quot;path&quot;:&quot;/task/components/taskFlowReport&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/components/taskFlowReport.js&quot;},{&quot;path&quot;:&quot;/task/components/taskInputModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/components/taskInputModal.js&quot;},{&quot;path&quot;:&quot;/task/components/taskList&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/components/taskList.js&quot;},{&quot;path&quot;:&quot;/task/components/taskReport&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/components/taskReport.js&quot;},{&quot;path&quot;:&quot;/task/create&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/create.js&quot;},{&quot;path&quot;:&quot;/task&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/index.js&quot;},{&quot;path&quot;:&quot;/task/:taskId&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/task/$taskId.js&quot;},{&quot;path&quot;:&quot;/group/components/groupList&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/group/components/groupList.js&quot;},{&quot;path&quot;:&quot;/&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/index.js&quot;},{&quot;path&quot;:&quot;/record&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/record/page.js&quot;},{&quot;path&quot;:&quot;/resource&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/resource/page.js&quot;},{&quot;path&quot;:&quot;/user&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/user/page.js&quot;},{&quot;path&quot;:&quot;/group/components/groupRoleModal&quot;,&quot;exact&quot;:true,&quot;component&quot;:&quot;./src/pages/group/components/groupRoleModal.js&quot;}]}]'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span> <span class="token attr-name">history</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>window<span class="token punctuation">.</span>g_history<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> location <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">renderRoutes</span><span class="token punctuation">(</span>routes<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> location <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h2 id="umi-js"><a href="#umi-js" aria-hidden="true" class="header-anchor">#</a> umi.js</h2> <p>umi Dev 依赖</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> createHistory <span class="token keyword">from</span> <span class="token string">'umi/_createHistory'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> FastClick <span class="token keyword">from</span> <span class="token string">'umi-fastclick'</span><span class="token punctuation">;</span>


document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    FastClick<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// create history</span>
window<span class="token punctuation">.</span>g_history <span class="token operator">=</span> <span class="token function">createHistory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  basename<span class="token punctuation">:</span> window<span class="token punctuation">.</span>routerBase<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// render</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> DvaContainer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./DvaContainer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
  DvaContainer<span class="token punctuation">,</span>
  <span class="token keyword">null</span><span class="token punctuation">,</span>
  React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./router'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// hot module replacement</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./router'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'/Users/gunjianpan/Desktop/pdd/taishan/taishan-frontend/src/global.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Enable service worker</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./registerServiceWorker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
      
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer">https://reacttraining.com/react-router/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://umijs.org/guide/router.html" target="_blank" rel="noopener noreferrer">https://umijs.org/guide/router.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/25/2018, 11:24:32 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pdd/structure.html" class="prev">
          目录约定
        </a></span> <span class="next"><a href="/pdd/dva.html">
          Dva
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/12.db5c7c0b.js" defer></script><script src="/assets/js/app.61265c67.js" defer></script>
  </body>
</html>
